function defineSequence(n,t){"use strict";var r=[],i=0;return function(u,f){function w(n){return Object.prototype.toString.call(n)==="[object Array]"?!0:!1}function rt(n,t){for(var i in t)n[i]=t[i];return n}function v(n,t){var i;return n.currentStyle?i=n.currentStyle[t]:document.defaultView&&document.defaultView.getComputedStyle&&(i=document.defaultView.getComputedStyle(n,"")[t]),i}function c(n,t,i){if(n.addEventListener)return n.addEventListener(t,i,!1),i;if(n.attachEvent){var r=function(){i.call(n)};return n.attachEvent("on"+t,r),r}}function d(n,t,i){n.addEventListener?n.removeEventListener(t,i,!1):n.detachEvent&&n.detachEvent("on"+t,i)}function p(n){var t;return t=n.indexOf("ms")>-1?1:1e3,n=="0s"?0:parseFloat(n.replace("s",""))*t}function b(n,t){if(n!==undefined)return new RegExp("(\\s|^)"+t+"(\\s|$)").test(n.className)}function s(n,t){var i,u,r;for(w(n)===!1&&(u=1,n=[n]),u=n.length,r=0;r<u;r++)i=n[r],b(i,t)===!1&&(i.className+=(i.className?" ":"")+t)}function h(n,t){var i,u,r;for(w(n)===!1?(u=1,n=[n]):u=n.length,r=0;r<u;r++)i=n[r],b(i,t)===!0&&(i.className=i.className.replace(new RegExp("(\\s|^)"+t+"(\\s|$)")," ").replace(/^\s+|\s+$/g,""))}function ut(n,t){var i=n.getBoundingClientRect(),r=!1;return t.clientX>=i.left&&t.clientX<=i.right&&t.clientY>=i.top&&t.clientY<=i.bottom&&(r=!0),r}function g(n,t,i){if(t.nodeName==="BODY")return!1;if(n===t){if(i!==undefined)for(var u=i,f=n.getElementsByTagName(u.nodeName),r=f.length;r--;)if(u===f[r])return r+1}else return i=t,g(n,t.parentNode,i)}function ft(n){var i=0,r=t.DIRECTION_NONE;return(n.left!==undefined||n.right!==undefined)&&(i+=1),(n.up!==undefined||n.down!==undefined)&&(i+=2),i===1?r=t.DIRECTION_HORIZONTAL:i===2?r=t.DIRECTION_VERTICAL:i===3&&(r=t.DIRECTION_ALL),r}function et(n,t){var i="no-touch";t.touch===!0&&(i="touch");s(n,"seq-"+i)}var k=u.getAttribute("data-seq-enabled"),a,l,e;if(k!==null)return r[k];u.setAttribute("data-seq-enabled",i);i++;var nt={startingStepId:1,startingStepAnimatesIn:!1,cycle:!0,phaseThreshold:!0,reverseWhenNavigatingBackwards:!1,moveActiveStepToTop:!0,animateCanvas:!0,animateCanvasDuration:250,autoPlay:!1,autoPlayInterval:5e3,autoPlayDelay:null,autoPlayDirection:1,autoPlayButton:!0,autoPlayPauseOnHover:!0,navigationSkip:!0,navigationSkipThreshold:250,fadeStepWhenSkipped:!0,fadeStepTime:500,ignorePhaseThresholdWhenSkipped:!1,preventReverseSkipping:!1,nextButton:!0,prevButton:!0,pagination:!0,preloader:!1,preloadTheseSteps:[1],preloadTheseImages:[],hideStepsUntilPreloaded:!1,pausePreloader:!1,keyNavigation:!1,numericKeysGoToSteps:!1,keyEvents:{left:function(n){n.prev()},right:function(n){n.next()}},swipeNavigation:!0,swipeEvents:{left:function(n){n.next()},right:function(n){n.prev()},up:undefined,down:undefined},swipeHammerOptions:{},hashTags:!1,hashDataAttribute:!1,hashChangesOnFirstStep:!1,fallback:{speed:500}},tt=50,it=100,y={animation:{WebkitAnimation:"-webkit-",animation:""}},o=function(n,t,i){function p(n){k.cssText=n}function f(n,t){return typeof n===t}function rt(n,t){return!!~(""+n).indexOf(t)}function w(n,t){var u,r;for(u in n)if(r=n[u],!rt(r,"-")&&k[r]!==i)return t=="pfx"?r:!0;return!1}function ut(n,t,r){var e,u;for(e in n)if(u=t[n[e]],u!==i)return r===!1?n[e]:f(u,"function")?u.bind(r||t):u;return!1}function e(n,t,i){var r=n.charAt(0).toUpperCase()+n.slice(1),u=(n+" "+g.join(r+" ")+r).split(" ");return f(t,"string")||f(t,"undefined")?w(u,t):(u=(n+" "+nt.join(r+" ")+r).split(" "),ut(u,t,i))}var r={},o=t.documentElement,s="modernizr",b=t.createElement(s),k=b.style,ft,st={}.toString,l=" -webkit- -moz- -o- -ms- ".split(" "),d="Webkit Moz O ms",g=d.split(" "),nt=d.toLowerCase().split(" "),et={svg:"http://www.w3.org/2000/svg"},u={},tt=[],a=tt.slice,h,it=function(n,i,r,u){var l,a,c,v,f=t.createElement("div"),h=t.body,e=h||t.createElement("body");if(parseInt(r,10))while(r--)c=t.createElement("div"),c.id=u?u[r]:s+(r+1),f.appendChild(c);return l=["&#173;",'<style id="s',s,'">',n,"<\/style>"].join(""),f.id=s,(h?f:e).innerHTML+=l,e.appendChild(f),h||(e.style.background="",e.style.overflow="hidden",v=o.style.overflow,o.style.overflow="hidden",o.appendChild(e)),a=i(f,n),h?f.parentNode.removeChild(f):(e.parentNode.removeChild(e),o.style.overflow=v),!!a},v={}.hasOwnProperty,y,c;y=!f(v,"undefined")&&!f(v.call,"undefined")?function(n,t){return v.call(n,t)}:function(n,t){return t in n&&f(n.constructor.prototype[t],"undefined")};Function.prototype.bind||(Function.prototype.bind=function(n){var t=this,i,r;if(typeof t!="function")throw new TypeError;return i=a.call(arguments,1),r=function(){var f,e,u;return this instanceof r?(f=function(){},f.prototype=t.prototype,e=new f,u=t.apply(e,i.concat(a.call(arguments))),Object(u)===u?u:e):t.apply(n,i.concat(a.call(arguments)))},r});u.touch=function(){var i;return"ontouchstart"in n||n.DocumentTouch&&t instanceof DocumentTouch?i=!0:it(["@media (",l.join("touch-enabled),("),s,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(n){i=n.offsetTop===9}),i};u.cssanimations=function(){return e("animationName")};u.csstransforms=function(){return!!e("transform")};u.csstransitions=function(){return e("transition")};u.svg=function(){return!!t.createElementNS&&!!t.createElementNS(et.svg,"svg").createSVGRect};for(c in u)y(u,c)&&(h=c.toLowerCase(),r[h]=u[c](),tt.push((r[h]?"":"no-")+h));return r.addTest=function(n,t){if(typeof n=="object")for(var u in n)y(n,u)&&r.addTest(u,n[u]);else{if(n=n.toLowerCase(),r[n]!==i)return r;t=typeof t=="function"?t():t;typeof enableClasses!="undefined"&&enableClasses&&(o.className+=" "+(t?"":"no-")+n);r[n]=t}return r},p(""),b=ft=null,r._version="2.8.3",r._prefixes=l,r._domPrefixes=nt,r._cssomPrefixes=g,r.testProp=function(n){return w([n])},r.testAllProps=e,r.testStyles=it,r.prefixed=function(n,t,i){return t?e(n,t,i):e(n,"pfx")},r}(window,window.document);return Array.prototype.indexOf||(Array.prototype.indexOf=function(n,t){if(this===undefined||this===null)throw new TypeError('"this" is null or not defined');var i=this.length>>>0;for(t=+t||0,Math.abs(t)===Infinity&&(t=0),t<0&&(t+=i,t<0&&(t=0));t<i;t++)if(this[t]===n)return t;return-1}),typeof document.hidden!="undefined"?(a="hidden",l="visibilitychange"):typeof document.mozHidden!="undefined"?(a="mozHidden",l="mozvisibilitychange"):typeof document.msHidden!="undefined"?(a="msHidden",l="msvisibilitychange"):typeof document.webkitHidden!="undefined"&&(a="webkitHidden",l="webkitvisibilitychange"),e={modernizr:o},e.ui={defaultElements:{nextButton:"seq-next",prevButton:"seq-prev",autoPlayButton:"seq-autoplay",pagination:"seq-pagination",preloader:"seq-preloader"},getElements:function(n,t){var r,u,o,s=[],f,i;for(u=t===!0?document.querySelectorAll("."+this.defaultElements[n]):document.querySelectorAll(t),o=u.length,i=0;i<o;i++)r=u[i],f=r.getAttribute("rel"),(f===null||f===e.$container.getAttribute("id"))&&s.push(r);return s},show:function(n,t){e.propertySupport.transitions===!0?(n.style[o.prefixed("transitionDuration")]=t+"ms",n.style[o.prefixed("transitionProperty")]="opacity, "+o.prefixed("transform"),n.style.opacity=1):e.animationFallback.animate(n,"opacity","",0,1,t)},hide:function(n,t,i){e.propertySupport.transitions===!0?(n.style[o.prefixed("transitionDuration")]=t+"ms",n.style[o.prefixed("transitionProperty")]="opacity, "+o.prefixed("transform"),n.style.opacity=0):e.animationFallback.animate(n,"opacity","",1,0,t);i!==undefined&&(e.hideTimer=setTimeout(function(){i()},t))}},e.autoPlay={init:function(){e.isAutoPlayPaused=!1;e.isAutoPlaying=!1},getDelay:function(n,t,i){switch(n){case!0:n=t===null?i:t;break;case!1:case undefined:n=0}return n},start:function(n,t){if(e.isAutoPlaying===!0||e.isReady===!1)return!1;var i=e.options;return n=this.getDelay(n,i.autoPlayDelay,i.autoPlayInterval),t===undefined&&e.started(e),s(e.$container,"seq-autoplaying"),s(e.$autoPlay,"seq-autoplaying"),i.autoPlay=!0,e.isAutoPlaying=!0,e.isAnimating===!1&&(e.autoPlayTimer=setTimeout(function(){i.autoPlayDirection===1?e.next():e.prev()},n)),!0},stop:function(){if(e.options.autoPlay===!0&&e.isAutoPlaying===!0)e.options.autoPlay=!1,e.isAutoPlaying=!1,clearTimeout(e.autoPlayTimer),h(e.$container,"seq-autoplaying"),h(e.$autoPlay,"seq-autoplaying"),e.stopped(e);else return!1;return!0},unpause:function(){if(e.isAutoPlayPaused===!0)e.isAutoPlayPaused=!1,this.start(!0);else return!1;return!0},pause:function(){if(e.options.autoPlay===!0)e.isAutoPlayPaused=!0,this.stop();else return!1;return!0}},e.canvas={init:function(){e.$screen!==undefined&&(e.$screen.style.height="100%",e.$screen.style.width="100%");e.canvas.getTransformProperties()},getSteps:function(n){var r=[],i,u,f=n.children,o=f.length,t;for(e.stepProperties={},t=0;t<o;t++)u=f[t],i=t+1,r.push(u),e.stepProperties[i]={},e.stepProperties[i].isActive=!1;return r},getTransformProperties:function(){for(var i,r,t,n=0;n<e.noOfSteps;n++)i=e.$steps[n],r=n+1,t={seqX:0,seqY:0,seqZ:0},t.seqX+=i.offsetLeft*-1,t.seqY+=i.offsetTop*-1,e.stepProperties[r].canvasTransform=t},move:function(n,t){if(e.options.animateCanvas===!0){var r=0,i;return t===!0&&e.firstRun===!1&&(r=e.options.animateCanvasDuration),e.isFallbackMode===!1&&(i=e.stepProperties[n].canvasTransform,e.$canvas.style[o.prefixed("transitionDuration")]=r+"ms",e.$canvas.style[o.prefixed("transform")]="translateX("+i.seqX+"px) translateY("+i.seqY+"px) translateZ("+i.seqZ+"px) "),!0}return!1},removeNoJsClass:function(){var n,t,i;if(e.isFallbackMode!==!0)for(n=0;n<e.$steps.length;n++)t=e.$steps[n],b(t,"seq-in")===!0&&(i=n+1,e.animation.resetInheritedSpeed(i),h(t,"seq-in"))}},e.animation={getPhaseProperties:function(n){for(var f=e.$steps[n-1],b=f.querySelectorAll("*[data-seq]"),s=f.querySelectorAll("*"),k=s.length,r,h=[],c=[],l=[],a=[],y=[],w=[],t,i,u=0;u<k;u++)r=s[u],t=p(v(r,o.prefixed("transitionDuration"))),i=p(v(r,o.prefixed("transitionDelay"))),a.push(t),y.push(i),w.push(t+i),r.getAttribute("data-seq")!==null&&(h.push(t),c.push(i),l.push(t+i));var d=Math.max.apply(Math,a),g=Math.max.apply(Math,y),nt=Math.max.apply(Math,w),tt=Math.max.apply(Math,h),it=Math.max.apply(Math,c),rt=Math.max.apply(Math,l);return{stepId:n,stepElement:f,children:s,animatedChildren:b,watchedTimings:{maxDuration:tt,maxDelay:it,maxTotal:rt},timings:{maxDuration:d,maxDelay:g,maxTotal:nt}}},getPhaseThreshold:function(n,t,i,r){var u=0;return i===!0&&e.options.ignorePhaseThresholdWhenSkipped===!0&&(n=!0),n===undefined&&(t===!0?u=r:t!==!1&&(u=t)),u},getReversePhaseDelay:function(n,t,i,r,u){var f=0,e=0,o=0;return i!==!0&&(r===!1||u===!1)&&(f=n-t,f>0?o=f:f<0&&(e=Math.abs(f))),{next:o,current:e}},moveActiveStepToTop:function(n,t){if(e.options.moveActiveStepToTop===!0){var i=e.$steps[e.prevStepId-1],r=e.noOfSteps-1;i.style.zIndex=1;n.style.zIndex=r;t.style.zIndex=e.noOfSteps}return null},manageNavigationSkip:function(n,t){if(e.isFallbackMode!==!0){var i,f,u,o,r;if(e.ui.show(t,0),e.options.navigationSkip===!0){if(e.navigationSkipThresholdActive=!0,e.phasesAnimating!==0&&(clearTimeout(e.phaseThresholdTimer),clearTimeout(e.nextPhaseStartedTimer),e.options.fadeStepWhenSkipped===!0))for(i=1;i<=e.noOfSteps;i++)f=e.stepProperties[i],f.isActive===!0&&i!==n&&(u=e.$steps[i-1],o=i,r={},r.id=o,r.element=u,e.phasesSkipped.push(r),e.animation.stepSkipped(u));e.navigationSkipThresholdTimer=setTimeout(function(){e.navigationSkipThresholdActive=!1},e.options.navigationSkipThreshold)}}},stepSkipped:function(n){e.ui.hide(n,e.options.fadeStepTime,function(){})},changeStep:function(n){var t="seq-step"+n,i;e.currentStepId!==undefined?(i="seq-step"+e.currentStepId,s(e.$container,t),h(e.$container,i)):s(e.$container,t)},reverseProperties:function(n,t,i,r){for(var l=this,c=n.children,a=c.length,nt=n.timings,u,y,w,h,e,s,b,k,d=[],g=[],f=0;f<a;f++)u=c[f],h=p(v(u,o.prefixed("transitionDuration"))),e=p(v(u,o.prefixed("transitionDelay"))),s=h+e,e=nt.maxTotal-s,r!==!0&&(e+=t),s=h+e,d.push(s),u.getAttribute("data-seq")!==null&&g.push(s),y=v(u,o.prefixed("transitionTimingFunction")),w=l.reverseTimingFunction(y),u.style[o.prefixed("transition")]=h+"ms "+e+"ms "+w;return b=Math.max.apply(Math,d),k=Math.max.apply(Math,g),setTimeout(function(){l.domDelay(function(){for(f=0;f<a;f++)u=c[f],u.style[o.prefixed("transition")]=""})},b+i),k},forward:function(n,t,i,r,u){var f=this,s,o,c;e.firstRun===!1&&f.currentPhaseStarted(e.currentStepId);h(i,"seq-out");f.domDelay(function(){s=f.startAnimateOut(e.currentStepId,t,1);o=s.watchedTimings.maxTotal;c=f.getPhaseThreshold(r,e.options.phaseThreshold,e.isAnimating,o);e.isAnimating=!0;f.startAnimateIn(n,o,i,c,u)})},reverse:function(n,t,i,r,u){var f=this,h,c=0,o,l,a,v;s(i,"seq-out");f.domDelay(function(){o=f.getPhaseProperties(e.currentStepId,"current");l=f.getPhaseProperties(n,"next");c=f.getPhaseThreshold(r,e.options.phaseThreshold,e.isAnimating,o.timings.maxTotal);h=f.getReversePhaseDelay(o.timings.maxTotal,l.timings.maxTotal,e.options.phaseThreshold,e.options.ignorePhaseThresholdWhenSkipped,e.isAnimating);a=f.reverseProperties(o,h.current,0,r);v=f.reverseProperties(l,h.next,c,r);f.startAnimateOut(e.currentStepId,t,-1,a);e.isAnimating=!0;e.firstRun===!1&&f.currentPhaseStarted(e.currentStepId);f.startAnimateIn(n,a,i,c,u,v)})},startAnimateIn:function(n,t,i,r,u,f){var o=this,c,l;e.prevStepId=e.currentStepId;e.currentStepId=n;e.firstRun===!0&&e.pagination.update();e.firstRun===!1||e.options.startingStepAnimatesIn===!0?(e.stepProperties[n].isActive=!0,e.nextPhaseStartedTimer=setTimeout(function(){o.nextPhaseStarted(n,u)},r),e.phaseThresholdTimer=setTimeout(function(){s(i,"seq-in");h(i,"seq-out");f===undefined&&(c=e.animation.getPhaseProperties(n,"next"),f=c.watchedTimings.maxTotal);o.phaseEnded(n,"next",f,o.nextPhaseEnded);l=o.getStepDuration(t,f,e.options.phaseThreshold);e.stepEndedTimer=setTimeout(function(){e.animation.stepEnded(n)},l)},r)):(o.resetInheritedSpeed(n),e.phasesAnimating=0,e.isAnimating=!1,e.options.autoPlay===!0&&e.autoPlay.start(!0),s(i,"seq-in"),h(i,"seq-out"));e.firstRun=!1},startAnimateOut:function(n,t,i,r){var u=this,f;return i===1?(h(t,"seq-in"),s(t,"seq-out"),f=u.getPhaseProperties(n,"current"),r=f.watchedTimings.maxTotal):h(t,"seq-in"),e.firstRun===!1&&(e.stepProperties[n].isActive=!0,u.phaseEnded(n,"current",r,u.currentPhaseEnded)),f},getStepDuration:function(n,t,i){var r;switch(i){case!0:r=t;break;case!1:r=n>=t?n:t;break;default:r=n>=t+i?n-i:t}return r},currentPhaseStarted:function(n){e.phasesAnimating++;e.currentPhaseStarted(n,e)},currentPhaseEnded:function(n){e.currentPhaseEnded(n,e)},nextPhaseStarted:function(n,t){e.phasesAnimating++;t===undefined&&e.hashTags.update();e.pagination.update();e.nextPhaseStarted(n,e)},nextPhaseEnded:function(n){e.nextPhaseEnded(n,e)},phaseEnded:function(n,t,i,r){var f=this,u;u=function(n){e.stepProperties[n].isActive=!1;e.phasesAnimating--;r(n)};t==="current"?e.currentPhaseEndedTimer=setTimeout(function(){u(n)},i):e.nextPhaseEndedTimer=setTimeout(function(){u(n)},i)},stepEnded:function(n){e.isAnimating=!1;e.isAutoPlaying=!1;e.options.autoPlay===!0&&e.autoPlay.start(!0,!0);e.animationEnded(n,e)},reversePhase:function(n){return{"seq-out":"seq-in","seq-in":"seq-out"}[n]},domDelay:function(n){setTimeout(function(){n()},tt)},reverseTimingFunction:function(n){if(n===""||n===undefined)return n;var t,r,u,i;for(n.indexOf("cubic-bezier")<0&&(n=n.split(",")[0],n={linear:"cubic-bezier(0.0,0.0,1.0,1.0)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1.0)","ease-in":"cubic-bezier(0.42, 0.0, 1.0, 1.0)","ease-in-out":"cubic-bezier(0.42, 0.0, 0.58, 1.0)","ease-out":"cubic-bezier(0.0, 0.0, 0.58, 1.0)"}[n]),t=n.replace("cubic-bezier(","").replace(")","").split(","),r=t.length,i=0;i<r;i++)t[i]=parseFloat(t[i]);return u=[1-t[2],1-t[3],1-t[0],1-t[1]],"cubic-bezier("+u+")"},resetInheritedSpeed:function(n){if(e.isFallbackMode!==!0){for(var f=this,i,r=e.$steps[n-1].querySelectorAll("*"),u=r.length,t=0;t<u;t++)i=r[t],i.style[o.prefixed("transition")]="0ms 0ms";e.animation.domDelay(function(){for(t=0;t<u;t++)i=r[t],i.style[o.prefixed("transition")]=""})}},getDirection:function(n,t,i,r,u,f,e){var o=this;return t!==undefined?t:f===!0||u===!0?e===!0&&n===1&&i===r?1:n<i?-1:1:1},requiresFallbackMode:function(n){var i=n.transitions,t=!1;return i===!1&&(t=!0),t},getPropertySupport:function(){var n=!1,t=!1;return o.csstransitions===!0&&(n=!0),o.cssanimations===!0&&(t=!0),{transitions:n,animations:t}}},e.animationFallback={animate:function(n,t,i,r,u,f,e){if(n!==!1){var o=(new Date).getTime(),s=setInterval(function(){var h=Math.min(1,((new Date).getTime()-o)/f);n.style[t]=r+h*(u-r)+i;h===1&&(e!==undefined&&e(),clearInterval(s))},25);n.style[t]=r+i}},setupCanvas:function(){var t,n,i;if(e.isFallbackMode===!0)for(s(e.$container,"seq-fallback"),e.$screen!==undefined&&(e.$screen.style.overflow="hidden",e.$screen.style.width="100%",e.$screen.style.height="100%"),e.$canvas.style.width="100%",e.$canvas.style.height="100%",this.canvasWidth=e.$canvas.offsetWidth,t=0;t<e.noOfSteps;t++)n=e.$steps[t],i=t+1,s(n,"seq-in"),n.style.width="100%",n.style.height="100%",n.style.position="absolute",n.style.whiteSpace="normal",n.style.left="100%"},moveCanvas:function(n,t,i,r){if(r===!0){var u=-100,f=100;i===-1&&(u=100,f=-100);this.animate(t,"left","%",0,u,e.options.fallback.speed);this.animate(n,"left","%",f,0,e.options.fallback.speed)}else t.style.left="-100%",n.style.left="0"},goTo:function(n,t,i,r,u,f,o){e.prevStepId=e.currentStepId;e.currentStepId=n;o===undefined&&e.hashTags.update();e.pagination.update();e.firstRun===!1?(this.moveCanvas(u,i,f,!0),e.isAnimating=!0,e.animationStarted(e.currentStepId,e),e.stepEndedTimer=setTimeout(function(){e.animation.stepEnded(e.currentStepId)},e.options.fallback.speed)):(this.moveCanvas(u,i,f,!1),e.firstRun=!1,e.options.autoPlay===!0&&e.autoPlay.start(!0))}},e.pagination={getLinks:function(n){for(var i,r=n.childNodes,f=r.length,u=[],t=0;t<f;t++)i=r[t],i.nodeType===1&&u.push(i);return u},update:function(){if(e.$pagination.elements!==undefined){var t,i,u=e.currentStepId-1,n,r,f=e.$pagination.elements.length;if(e.$pagination.currentLinks!==undefined)for(r=e.$pagination.currentLinks.length,t=0;t<r;t++)n=e.$pagination.currentLinks[t],h(n,"active");for(e.$pagination.currentLinks=[],i=0;i<f;i++)n=e.$pagination.links[i][u],e.$pagination.currentLinks.push(n),s(n,"active")}return e.$pagination.currentLinks}},e.hashTags={init:function(n){if(e.options.hashTags===!0){var t,i;e.hasPushstate=!!(window.history&&history.pushState);i=location.hash.replace("#!","");e.stepHashTags=this.getStepHashTags();i!==""&&(e.currentHashTag=i,t=this.hasCorrespondingStep(e.currentHashTag),t>-1&&(n=t+1))}return n},hasCorrespondingStep:function(n){var t=-1,i=e.stepHashTags.indexOf(n);return i>-1&&(t=i),t},getStepHashTags:function(){for(var t,i=[],n=0;n<e.noOfSteps;n++)t=e.options.hashDataAttribute===!1?e.$steps[n].id:e.$steps[n].getAttribute("data-seq-hashtag"),i.push(t);return i},update:function(){if(e.options.hashTags===!0&&e.firstRun===!1||e.options.hashTags===!0&&e.firstRun===!0&&e.options.hashChangesOnFirstStep===!0){var n=e.currentStepId-1;e.currentHashTag=e.stepHashTags[n];e.currentHashtag!==""&&(e.hasPushstate===!0?history.pushState(null,null,"#!"+e.currentHashTag):location.hash="#!"+e.currentHashTag)}},setupEvent:function(){if("onhashchange"in window){if(window.addEventListener){window.addHashChange=function(n,t){window.addEventListener("hashchange",n,t)};window.removeHashChange=function(n){window.removeEventListener("hashchange",n)};return}if(window.attachEvent){window.addHashChange=function(n){window.attachEvent("onhashchange",n)};window.removeHashChange=function(n){window.detachEvent("onhashchange",n)};return}}var n=[],t=location.href;window.addHashChange=function(t,i){typeof t=="function"&&n[i?"unshift":"push"](t)};window.removeHashChange=function(t){for(var i=n.length-1;i>=0;i--)n[i]===t&&n.splice(i,1)};setInterval(function(){var r=location.href,u,i;if(t!==r)for(u=t,t=r,i=0;i<n.length;i++)n[i].call(window,{type:"hashchange",newURL:r,oldURL:u})},100)}},e.preload={defaultHtml:'<svg width="39" height="16" viewBox="0 0 39 16" xmlns="http://www.w3.org/2000/svg" class="seq-preload-indicator"><title>Sequence.js Preloading Indicator<\/title><desc>Three orange dots increasing in size from left to right<\/desc><g fill="#F96D38"><path class="seq-preload-circle seq-preload-circle-1" d="M3.999 12.012c2.209 0 3.999-1.791 3.999-3.999s-1.79-3.999-3.999-3.999-3.999 1.791-3.999 3.999 1.79 3.999 3.999 3.999z"/><path class="seq-preload-circle seq-preload-circle-2" d="M15.996 13.468c3.018 0 5.465-2.447 5.465-5.466 0-3.018-2.447-5.465-5.465-5.465-3.019 0-5.466 2.447-5.466 5.465 0 3.019 2.447 5.466 5.466 5.466z"/><path class="seq-preload-circle seq-preload-circle-3" d="M31.322 15.334c4.049 0 7.332-3.282 7.332-7.332 0-4.049-3.282-7.332-7.332-7.332s-7.332 3.283-7.332 7.332c0 4.05 3.283 7.332 7.332 7.332z"/><\/g><\/svg>',fallbackHtml:'<div class="seq-preload-indicator seq-preload-indicator-fallback"><div class="seq-preload-circle seq-preload-circle-1"><\/div><div class="seq-preload-circle seq-preload-circle-2"><\/div><div class="seq-preload-circle seq-preload-circle-3"><\/div><\/div>',defaultStyles:"@"+y.animation[o.prefixed("animation")]+"keyframes seq-preloader {50% {opacity: 1;}100% {opacity: 0;}}.seq-preloader {background: white;visibility: visible;opacity: 1;position: absolute;z-index: 9999;height: 100%;width: 100%;top: 0;left: 0;right: 0;bottom: 0;} .seq-preloader.seq-preloaded {opacity: 0;visibility: hidden;"+o.prefixed("transition")+": visibility 0s .5s, opacity .5s;}.seq-preload-indicator {overflow: visible;position: relative;top: 50%;left: 50%;-webkit-transform: translate(-50%, -50%);transform: translate(-50%, -50%);}.seq-preload-circle {display: inline-block;height: 12px;width: 12px;fill: #F96D38;opacity: 0;"+y.animation[o.prefixed("animation")]+"animation: seq-preloader 1.25s infinite;}.seq-preload-circle-2 {"+y.animation[o.prefixed("animation")]+"animation-delay: .15s;}.seq-preload-circle-3 {"+y.animation[o.prefixed("animation")]+"animation-delay: .3s;}.seq-preload-indicator-fallback{width: 42px;margin-left: -21px;overflow: visible;}.seq-preload-indicator-fallback .seq-preload-circle {width: 8px; height:8px;background-color: #F96D38;border-radius: 100%; opacity: 1;display: inline-block; vertical-align: middle;}.seq-preload-indicator-fallback .seq-preload-circle-2{margin-left: 3px; margin-right: 3px; width: 12px; height: 12px;}.seq-preload-indicator-fallback .seq-preload-circle-3{width: 16px; height: 16px;}",init:function(t){if(e.options.preloader!==!1){var i=this,f,o,r,u,h,c;s(e.$container,"seq-preloading");e.$preloader=e.ui.getElements("preloader",e.options.preloader);i.append();i.addStyles();i.toggleStepsVisibility("hide");f=i.getImagesToPreload(e.options.preloadTheseSteps);o=i.getImagesToPreload(e.options.preloadTheseImages,!0);r=f.concat(o);u=n(r);u.on("always",function(){i.complete(t)});h=1;u.on("progress",function(n,t){c=t.isLoaded?"loaded":"broken";e.preloadProgress(c,t.img.src,h++,r.length,e)});return!0}return!1},complete:function(n){(e.preloaded(e),e.options.pausePreloader!==!0)&&(this.toggleStepsVisibility("show"),h(e.$container,"seq-preloading"),s(e.$container,"seq-preloaded"),s(e.$preloader[0],"seq-preloaded"),this.preloadIndicatorTimer!==undefined&&clearInterval(this.preloadIndicatorTimer),(o.prefixed("animation")===!1||o.svg===!1)&&(e.$preloader[0].style.display="none"),n!==undefined&&n())},addStyles:function(){var i,n,t;return e.options.preloader===!0?(i=document.head||document.getElementsByTagName("head")[0],this.styleElement=document.createElement("style"),this.styleElement.type="text/css",this.styleElement.styleSheet?this.styleElement.styleSheet.cssText=this.defaultStyles:this.styleElement.appendChild(document.createTextNode(this.defaultStyles)),i.appendChild(this.styleElement),(o.prefixed("animation")===!1||o.svg===!1)&&(n=e.$preloader[0].firstChild,t=function(){n.style.visibility="hidden";preloadFlashTime=1e3;setTimeout(function(){n.style.visibility="visible"},500)},t(),this.preloadIndicatorTimer=setInterval(function(){t()},1e3)),!0):!1},removeStyles:function(){this.styleElement.parentNode.removeChild(this.styleElement)},getImagesToPreload:function(n,t){var f=[],i,r,o,h,s,c,l,u,a;if(w(n)===!0)if(o=n.length,t!==!0)for(i=0;i<o;i++)for(h=e.$steps[i],s=h.getElementsByTagName("img"),c=s.length,r=0;r<c;r++)l=s[r],f.push(l);else for(u=[],i=0;i<o;i++)a=n[i],u[i]=new Image,u[i].src=a,f.push(u[i]);return f},append:function(){return e.options.preloader===!0?(e.$preloader=document.createElement("div"),e.$preloader.className="seq-preloader",e.$preloader=[e.$preloader],e.$preloader[0].innerHTML=o.prefixed("animation")!==!1&&o.svg===!0?e.preload.defaultHtml:e.preload.fallbackHtml,e.$container.insertBefore(e.$preloader[0],null),!0):!1},toggleStepsVisibility:function(n){if(e.options.hideStepsUntilPreloaded===!0){for(var i,t=0;t<e.noOfSteps;t++)i=e.$steps[t],n==="hide"?e.ui.hide(i,0):e.ui.show(i,0);return!0}return!1}},e.manageEvents={list:{load:[],click:[],touchstart:[],mousemove:[],mouseleave:[],hammer:[],keyup:[],hashchange:[],resize:[]},init:function(){return e.manageEvents.list[l]=[],e.options.hashTags===!0&&this.add.hashChange(),e.options.swipeNavigation===!0?this.add.swipeNavigation():e.hammerTime=!1,e.options.keyNavigation===!0&&this.add.keyNavigation(),this.add.resizeThrottle(),this.add.pageVisibility(),e.options.nextButton!==!1&&(e.$next=e.ui.getElements("nextButton",e.options.nextButton),this.add.button(e.$next,"nav",e.next)),e.options.prevButton!==!1&&(e.$prev=e.ui.getElements("prevButton",e.options.prevButton),this.add.button(e.$prev,"nav",e.prev)),e.options.autoPlayButton!==!1&&(e.$autoPlay=e.ui.getElements("autoPlayButton",e.options.autoPlayButton),this.add.button(e.$autoPlay,"nav",e.toggleAutoPlay)),this.add.stopOnHover(),e.options.pagination!==!1&&(e.$pagination={},e.$pagination.relatedElementId=i,e.$pagination.links=[],e.$pagination.elements=e.ui.getElements("pagination",e.options.pagination),this.add.button(e.$pagination.elements,"pagination")),null},removeAll:function(n){var t,i;for(t in n)n.hasOwnProperty(t)===!0&&(i=n[t],this.remove(t));return null},remove:function(n){var i=e.manageEvents.list[n],f=i.length,u,t,r;switch(n){case"hashchange":e.options.hashTags===!0&&removeHashChange(i[0].handler);break;case"hammer":e.manageEvents.list.hammer.length>0&&document.querySelectorAll!==undefined&&(u=e.manageEvents.list.hammer[0].handler,e.hammerTime.off("swipe",[u]));break;default:for(t=0;t<f;t++)r=i[t],d(r.element,n,r.handler)}},add:{hashChange:function(){e.hashTags.setupEvent();var n=function(n){var t,i;t=n.newURL||location.href;t=t.split("#!")[1];e.currentHashTag!==t&&(i=e.stepHashTags.indexOf(t)+1,e.currentHashTag=t,e.goTo(i,undefined,undefined,!0))};return addHashChange(n),e.manageEvents.list.hashchange.push({element:window,handler:n}),e.manageEvents.list.hashchange},button:function(n,t,i){var a=n.length,s,r,f,h,u,l,o;switch(t){case"nav":f=function(n){s=c(n,"click",function(n){n||(n=window.event);n.preventDefault?n.preventDefault():n.returnValue=!1;i()})};break;case"pagination":f=function(n,t){s=c(n,"click",function(n){n||(n=window.event);n.preventDefault?n.preventDefault():n.returnValue=!1;var t=n.target||n.srcElement;h=this;l=g(h,t);e.goTo(l)});e.$pagination.links.push(e.pagination.getLinks(n,t))}}for(o=0;o<a;o++)r=n[o],u=r.getAttribute("rel"),u===e.$container.id&&r.getAttribute("data-seq-button")===null?(r.setAttribute("data-seq-button",!0),f(r,u)):u===null&&r.getAttribute("data-seq-button")===null&&f(r,u),e.manageEvents.list.click.push({element:r,handler:s});return e.manageEvents.list.click},stopOnHover:function(){var t,n;return e.isMouseOver=!1,t=c(e.$container,"touchstart",function(){e.isTouched=!0}),e.manageEvents.list.touchstart.push({element:e.$container,handler:t}),n=c(e.$container,"mousemove",function(n){if(n=n||window.event,e.isTouched===!0){e.isTouched=!1;return}ut(e.$container,n)===!0?(e.options.autoPlayPauseOnHover===!0&&e.isMouseOver===!1&&e.autoPlay.pause(),e.isMouseOver=!0):(e.options.autoPlayPauseOnHover===!0&&e.isMouseOver===!0&&e.autoPlay.unpause(),e.isMouseOver=!1)}),e.manageEvents.list.mousemove.push({element:e.$container,handler:n}),n=c(e.$container,"mouseleave",function(){e.options.autoPlayPauseOnHover===!0&&e.autoPlay.unpause();e.isMouseOver=!1}),e.manageEvents.list.mouseleave.push({element:e.$container,handler:n}),null},swipeNavigation:function(){if(window.addEventListener===undefined){e.hammerTime=!1;return}var i,n;typeof t=="function"&&(n=function(n){switch(n.direction){case 2:e.options.swipeEvents.left(e);break;case 4:e.options.swipeEvents.right(e);break;case 8:e.options.swipeEvents.up(e);break;case 16:e.options.swipeEvents.down(e)}},e.hammerTime=new t(e.$container).on("swipe",n),e.hammerTime.get("swipe").set(e.options.swipeHammerOptions),i=ft(e.options.swipeEvents),e.hammerTime.get("swipe").set({direction:i}),e.manageEvents.list.hammer.push({element:e.$container,handler:n}))},keyNavigation:function(){var n=c(document,"keyup",function(n){n||(n=window.event);var t=parseInt(String.fromCharCode(n.keyCode));t>0&&t<=e.noOfSteps&&e.options.numericKeysGoToSteps&&e.goTo(t);switch(n.keyCode){case 37:e.options.keyEvents.left(e);break;case 39:e.options.keyEvents.right(e)}});e.manageEvents.list.keyup.push({element:document,handler:n})},resizeThrottle:function(){function i(){setTimeout(function(){e.canvas.getTransformProperties();e.propertySupport.transitions===!0&&e.canvas.move(e.currentStepId,!1)},500);e.throttledResize(e)}var n,t;t=c(window,"resize",function(){clearTimeout(n);n=setTimeout(i,it)});e.manageEvents.list.resize.push({element:window,handler:t})},pageVisibility:function(){var n=c(document,l,function(){document[a]?e.autoPlay.pause():e.autoPlay.unpause()},!1);e.manageEvents.list[l].push({element:document,handler:n})}}},e.init=function(t){var i,h,r,u;e.options=rt(nt,f);e.isAnimating=!1;e.isReady=!1;e.$container=t;e.$screen=e.$container.querySelectorAll(".seq-screen")[0];e.$canvas=e.$container.querySelectorAll(".seq-canvas")[0];e.$steps=e.canvas.getSteps(e.$canvas);e.noOfSteps=e.$steps.length;e.phasesAnimating=0;e.phasesSkipped=[];et(e.$container,o);i=e.options.startingStepId;s(e.$container,"seq-active");e.propertySupport=e.animation.getPropertySupport();e.isFallbackMode=e.animation.requiresFallbackMode(e.propertySupport);e.canvas.init(i);e.canvas.removeNoJsClass(e);e.manageEvents.init();e.autoPlay.init();e.firstRun=!0;i=e.hashTags.init(i);e.options.autoPlayDirection===1?(r=i-1,e.prevStepId=r<1?e.noOfSteps:r):(r=i+1,e.prevStepId=r>e.noOfSteps?1:r);e.currentStepId=e.prevStepId;h=e.prevStepId;e.animationFallback.setupCanvas(i);u=function(){e.animation.domDelay(function(){e.animation.domDelay(function(){e.animation.resetInheritedSpeed(h)});e.isReady=!0;e.ready(e);e.goTo(i,e.options.autoPlayDirection,!0)})};e.options.preloader!==!1&&document.querySelectorAll!==undefined&&typeof n=="function"?e.preload.init(function(){u()}):u()},e.destroy=function(){var n,t,i;for(e.autoPlay.stop(),clearTimeout(e.autoPlayTimer),clearTimeout(e.phaseThresholdTimer),clearTimeout(e.stepEndedTimer),clearTimeout(e.currentPhaseEndedTimer),clearTimeout(e.nextPhaseStartedTimer),clearTimeout(e.nextPhaseEndedTimer),clearTimeout(e.fadeStepTimer),clearTimeout(e.hideTimer),clearTimeout(e.navigationSkipThresholdTimer),e.manageEvents.removeAll(e.manageEvents.list),h(e.$pagination.currentLinks,"active"),h(e.$container,"seq-step"+e.currentStepId),h(e.$container,"seq-active"),e.$container.removeAttribute("style"),e.$screen!==undefined&&e.$screen.removeAttribute("style"),e.$canvas.removeAttribute("style"),n=0;n<e.noOfSteps;n++)t=e.$steps[n],t.removeAttribute("style"),e.animation.resetInheritedSpeed(n+1),h(t,"seq-in"),h(t,"seq-out");return i=e.$steps[e.options.startingStepId-1],e.animation.resetInheritedSpeed(e.options.startingStepId),s(i,"seq-in"),u.removeAttribute("data-seq-enabled"),e.destroyed(e),e=null},e.next=function(){var n=e.currentStepId+1;return n>e.noOfSteps&&e.options.cycle===!1?!1:(n>e.noOfSteps&&(n=1),e.goTo(n),n)},e.prev=function(){var n=e.currentStepId-1,t;return n<1&&e.options.cycle===!1?!1:(n<1&&(n=e.noOfSteps),e.options.reverseWhenNavigatingBackwards===!0&&(t=-1),e.goTo(n,t),n)},e.toggleAutoPlay=function(n){return e.isAutoPlaying===!1?e.start(n):e.stop(),e.isAutoPlaying},e.stop=function(){e.autoPlay.stop()},e.start=function(n){e.autoPlay.start(n)},e.goTo=function(n,t,i,r){if(t=e.animation.getDirection(n,t,e.currentStepId,e.noOfSteps,e.isFallbackMode,e.options.reverseWhenNavigatingBackwards,e.options.cycle),n===undefined||n<1||n>e.noOfSteps||n===e.currentStepId||e.options.navigationSkip===!1&&e.isAnimating===!0||e.options.navigationSkip===!0&&e.navigationSkipThresholdActive===!0&&r===undefined||e.isFallbackMode===!0&&e.isAnimating===!0&&r===undefined||e.options.preventReverseSkipping===!0&&e.direction!==t&&e.isAnimating===!0)return!1;var f,u;return clearTimeout(e.autoPlayTimer),e.direction=t,t===1?h(e.$container,"seq-reversed"):s(e.$container,"seq-reversed"),f=e.$steps[e.currentStepId-1],u=e.$steps[n-1],e.animation.moveActiveStepToTop(f,u),e.animation.changeStep(n),e.isFallbackMode===!1?(e.animation.resetInheritedSpeed(n),(e.firstRun===!1||e.firstRun===!0&&e.options.startingStepAnimatesIn===!0)&&e.animationStarted(n,e),e.canvas.move(n,!0),e.animation.manageNavigationSkip(n,u),t===1?e.animation.forward(n,f,u,i,r):e.animation.reverse(n,f,u,i,r)):e.animationFallback.goTo(n,e.currentStepId,f,n,u,t,r),!0},e.started=function(){},e.stopped=function(){},e.animationStarted=function(){},e.animationEnded=function(){},e.currentPhaseStarted=function(){},e.currentPhaseEnded=function(){},e.nextPhaseStarted=function(){},e.nextPhaseEnded=function(){},e.throttledResize=function(){},e.preloaded=function(){},e.preloadProgress=function(){},e.ready=function(){},e.destroyed=function(){},e.utils={addClass:s,removeClass:h,addEvent:c,removeEvent:d},e.init(u),r.push(e),e}}if(!function(n,t,i,r){"use strict";function si(n,t,i){return setTimeout(ci(n,i),t)}function tt(n,t,i){return Array.isArray(n)?(v(n,i[t],i),!0):!1}function v(n,t,i){var u;if(n)if(n.forEach)n.forEach(t,i);else if(n.length!==r)for(u=0;u<n.length;)t.call(i,n[u],u,n),u++;else for(u in n)n.hasOwnProperty(u)&&t.call(i,n[u],u,n)}function k(n,t,i){for(var f=Object.keys(t),u=0;u<f.length;)(!i||i&&n[f[u]]===r)&&(n[f[u]]=t[f[u]]),u++;return n}function hi(n,t){return k(n,t,!0)}function o(n,t,i){var r,u=t.prototype;r=n.prototype=Object.create(u);r.constructor=n;r._super=u;i&&k(r,i)}function ci(n,t){return function(){return n.apply(t,arguments)}}function li(n,t){return typeof n==pr?n.apply(t?t[0]||r:r,t):n}function ur(n,t){return n===r?t:n}function pt(n,t,i){v(bt(t),function(t){n.addEventListener(t,i,!1)})}function wt(n,t,i){v(bt(t),function(t){n.removeEventListener(t,i,!1)})}function fr(n,t){for(;n;){if(n==t)return!0;n=n.parentNode}return!1}function d(n,t){return n.indexOf(t)>-1}function bt(n){return n.trim().split(/\s+/g)}function it(n,t,i){if(n.indexOf&&!i)return n.indexOf(t);for(var r=0;r<n.length;){if(i&&n[r][i]==t||!i&&n[r]===t)return r;r++}return-1}function kt(n){return Array.prototype.slice.call(n,0)}function er(n,t,i){for(var f,u=[],e=[],r=0;r<n.length;)f=t?n[r][t]:n[r],it(e,f)<0&&u.push(n[r]),e[r]=f,r++;return i&&(u=t?u.sort(function(n,i){return n[t]>i[t]}):u.sort()),u}function dt(n,t){for(var i,u,e=t[0].toUpperCase()+t.slice(1),f=0;f<yr.length;){if(i=yr[f],u=i?i+e:t,u in n)return u;f++}return r}function ou(){return tf++}function or(n){var t=n.ownerDocument;return t.defaultView||t.parentWindow}function s(n,t){var i=this;this.manager=n;this.callback=t;this.element=n.element;this.target=n.options.inputTarget;this.domHandler=function(t){li(n.options.enable,[n])&&i.handler(t)};this.init()}function su(n){var i,t=n.options.inputClass;return new(i=t?t:rf?vi:uf?ti:wr?yi:ni)(n,hu)}function hu(n,t,i){var r=i.pointers.length,o=i.changedPointers.length,s=t&f&&r-o==0,h=t&(u|e)&&r-o==0;i.isFirst=!!s;i.isFinal=!!h;s&&(n.session={});i.eventType=t;cu(n,i);n.emit("hammer.input",i);n.recognize(i);n.session.prevInput=i}function cu(n,t){var i=n.session,u=t.pointers,e=u.length,f;i.firstInput||(i.firstInput=sr(t));e>1&&!i.firstMultiple?i.firstMultiple=sr(t):1===e&&(i.firstMultiple=!1);var o=i.firstInput,r=i.firstMultiple,s=r?r.center:o.center,h=t.center=hr(u);t.timeStamp=nr();t.deltaTime=t.timeStamp-o.timeStamp;t.angle=ai(s,h);t.distance=gt(s,h);lu(i,t);t.offsetDirection=cr(t.deltaX,t.deltaY);t.scale=r?pu(r.pointers,u):1;t.rotation=r?yu(r.pointers,u):0;au(i,t);f=n.element;fr(t.srcEvent.target,f)&&(f=t.srcEvent.target);t.target=f}function lu(n,t){var i=t.center,r=n.offsetDelta||{},e=n.prevDelta||{},o=n.prevInput||{};(t.eventType===f||o.eventType===u)&&(e=n.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=n.offsetDelta={x:i.x,y:i.y});t.deltaX=e.x+(i.x-r.x);t.deltaY=e.y+(i.y-r.y)}function au(n,t){var f,o,s,h,i=n.lastInterval||t,c=t.timeStamp-i.timeStamp;if(t.eventType!=e&&(c>ff||i.velocity===r)){var l=i.deltaX-t.deltaX,a=i.deltaY-t.deltaY,u=vu(c,l,a);o=u.x;s=u.y;f=ft(u.x)>ft(u.y)?u.x:u.y;h=cr(l,a);n.lastInterval=t}else f=i.velocity,o=i.velocityX,s=i.velocityY,h=i.direction;t.velocity=f;t.velocityX=o;t.velocityY=s;t.direction=h}function sr(n){for(var i=[],t=0;t<n.pointers.length;)i[t]={clientX:rt(n.pointers[t].clientX),clientY:rt(n.pointers[t].clientY)},t++;return{timeStamp:nr(),pointers:i,center:hr(i),deltaX:n.deltaX,deltaY:n.deltaY}}function hr(n){var t=n.length;if(1===t)return{x:rt(n[0].clientX),y:rt(n[0].clientY)};for(var r=0,u=0,i=0;t>i;)r+=n[i].clientX,u+=n[i].clientY,i++;return{x:rt(r/t),y:rt(u/t)}}function vu(n,t,i){return{x:t/n||0,y:i/n||0}}function cr(n,t){return n===t?fi:ft(n)>=ft(t)?n>0?ot:st:t>0?ht:ct}function gt(n,t,i){i||(i=kr);var r=t[i[0]]-n[i[0]],u=t[i[1]]-n[i[1]];return Math.sqrt(r*r+u*u)}function ai(n,t,i){i||(i=kr);var r=t[i[0]]-n[i[0]],u=t[i[1]]-n[i[1]];return 180*Math.atan2(u,r)/Math.PI}function yu(n,t){return ai(t[1],t[0],ei)-ai(n[1],n[0],ei)}function pu(n,t){return gt(t[0],t[1],ei)/gt(n[0],n[1],ei)}function ni(){this.evEl=of;this.evWin=sf;this.allow=!0;this.pressed=!1;s.apply(this,arguments)}function vi(){this.evEl=dr;this.evWin=gr;s.apply(this,arguments);this.store=this.manager.session.pointerEvents=[]}function lr(){this.evTarget=af;this.evWin=vf;this.started=!1;s.apply(this,arguments)}function wu(n,t){var i=kt(n.touches),r=kt(n.changedTouches);return t&(u|e)&&(i=er(i.concat(r),"identifier",!0)),[i,r]}function ti(){this.evTarget=tu;this.targetIds={};s.apply(this,arguments)}function bu(n,t){var r=kt(n.touches),o=this.targetIds;if(t&(f|g)&&1===r.length)return o[r[0].identifier]=!0,[r,r];var i,s,h=kt(n.changedTouches),c=[],l=this.target;if(s=r.filter(function(n){return fr(n.target,l)}),t===f)for(i=0;i<s.length;)o[s[i].identifier]=!0,i++;for(i=0;i<h.length;)o[h[i].identifier]&&c.push(h[i]),t&(u|e)&&delete o[h[i].identifier],i++;if(c.length)return[er(s.concat(c),"identifier",!0),c]}function yi(){s.apply(this,arguments);var n=ci(this.handler,this);this.touch=new ti(this.manager,n);this.mouse=new ni(this.manager,n)}function pi(n,t){this.manager=n;this.set(t)}function ku(n){if(d(n,lt))return lt;var t=d(n,at),i=d(n,vt);return t&&i?at+" "+vt:t||i?t?at:vt:d(n,ir)?ir:fu}function y(n){this.id=ou();this.manager=null;this.options=hi(n||{},this.defaults);this.options.enable=ur(this.options.enable,!0);this.state=oi;this.simultaneous={};this.requireFail=[]}function du(n){return n&yt?"cancel":n&b?"end":n&ut?"move":n&h?"start":""}function ar(n){return n==ct?"down":n==ht?"up":n==ot?"left":n==st?"right":""}function ii(n,t){var i=t.manager;return i?i.get(n):n}function c(){y.apply(this,arguments)}function ri(){c.apply(this,arguments);this.pX=null;this.pY=null}function wi(){c.apply(this,arguments)}function bi(){y.apply(this,arguments);this._timer=null;this._input=null}function ki(){c.apply(this,arguments)}function di(){c.apply(this,arguments)}function ui(){y.apply(this,arguments);this.pTime=!1;this.pCenter=!1;this._timer=null;this._input=null;this.count=0}function w(n,t){return t=t||{},t.recognizers=ur(t.recognizers,w.defaults.preset),new gi(n,t)}function gi(n,t){t=t||{};this.options=hi(t,w.defaults);this.options.inputTarget=this.options.inputTarget||n;this.handlers={};this.session={};this.recognizers=[];this.element=n;this.input=su(this);this.touchAction=new pi(this,this.options.touchAction);vr(this,!0);v(t.recognizers,function(n){var t=this.add(new n[0](n[1]));n[2]&&t.recognizeWith(n[2]);n[3]&&t.requireFailure(n[3])},this)}function vr(n,t){var i=n.element;v(n.options.cssProps,function(n,r){i.style[dt(i.style,r)]=t?n:""})}function gu(n,i){var r=t.createEvent("Event");r.initEvent(n,!0,!0);r.gesture=i;i.target.dispatchEvent(r)}var yr=["","webkit","moz","MS","ms","o"],nf=t.createElement("div"),pr="function",rt=Math.round,ft=Math.abs,nr=Date.now,tf=1,wr="ontouchstart"in n,rf=dt(n,"PointerEvent")!==r,uf=wr&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),et="touch",tr="mouse",ff=25,f=1,g=2,u=4,e=8,fi=1,ot=2,st=4,ht=8,ct=16,l=ot|st,nt=ht|ct,br=l|nt,kr=["x","y"],ei=["clientX","clientY"],nu,tu,eu,rr;s.prototype={handler:function(){},init:function(){this.evEl&&pt(this.element,this.evEl,this.domHandler);this.evTarget&&pt(this.target,this.evTarget,this.domHandler);this.evWin&&pt(or(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&wt(this.element,this.evEl,this.domHandler);this.evTarget&&wt(this.target,this.evTarget,this.domHandler);this.evWin&&wt(or(this.element),this.evWin,this.domHandler)}};var ef={mousedown:f,mousemove:g,mouseup:u},of="mousedown",sf="mousemove mouseup";o(ni,s,{handler:function(n){var t=ef[n.type];t&f&&0===n.button&&(this.pressed=!0);t&g&&1!==n.which&&(t=u);this.pressed&&this.allow&&(t&u&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[n],changedPointers:[n],pointerType:tr,srcEvent:n}))}});var hf={pointerdown:f,pointermove:g,pointerup:u,pointercancel:e,pointerout:e},cf={2:et,3:"pen",4:tr,5:"kinect"},dr="pointerdown",gr="pointermove pointerup pointercancel";n.MSPointerEvent&&(dr="MSPointerDown",gr="MSPointerMove MSPointerUp MSPointerCancel");o(vi,s,{handler:function(n){var t=this.store,o=!1,h=n.type.toLowerCase().replace("ms",""),r=hf[h],s=cf[n.pointerType]||n.pointerType,c=s==et,i=it(t,n.pointerId,"pointerId");r&f&&(0===n.button||c)?0>i&&(t.push(n),i=t.length-1):r&(u|e)&&(o=!0);0>i||(t[i]=n,this.callback(this.manager,r,{pointers:t,changedPointers:[n],pointerType:s,srcEvent:n}),o&&t.splice(i,1))}});var lf={touchstart:f,touchmove:g,touchend:u,touchcancel:e},af="touchstart",vf="touchstart touchmove touchend touchcancel";o(lr,s,{handler:function(n){var i=lf[n.type],t;(i===f&&(this.started=!0),this.started)&&(t=wu.call(this,n,i),i&(u|e)&&t[0].length-t[1].length==0&&(this.started=!1),this.callback(this.manager,i,{pointers:t[0],changedPointers:t[1],pointerType:et,srcEvent:n}))}});nu={touchstart:f,touchmove:g,touchend:u,touchcancel:e};tu="touchstart touchmove touchend touchcancel";o(ti,s,{handler:function(n){var i=nu[n.type],t=bu.call(this,n,i);t&&this.callback(this.manager,i,{pointers:t[0],changedPointers:t[1],pointerType:et,srcEvent:n})}});o(yi,s,{handler:function(n,t,i){var r=i.pointerType==et,f=i.pointerType==tr;if(r)this.mouse.allow=!1;else if(f&&!this.mouse.allow)return;t&(u|e)&&(this.mouse.allow=!0);this.callback(n,t,i)},destroy:function(){this.touch.destroy();this.mouse.destroy()}});var iu=dt(nf.style,"touchAction"),ru=iu!==r,uu="compute",fu="auto",ir="manipulation",lt="none",at="pan-x",vt="pan-y";pi.prototype={set:function(n){n==uu&&(n=this.compute());ru&&(this.manager.element.style[iu]=n);this.actions=n.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var n=[];return v(this.manager.recognizers,function(t){li(t.options.enable,[t])&&(n=n.concat(t.getTouchAction()))}),ku(n.join(" "))},preventDefaults:function(n){var t,i;if(!ru){if(t=n.srcEvent,i=n.offsetDirection,this.manager.session.prevented)return void t.preventDefault();var r=this.actions,u=d(r,lt),f=d(r,vt),e=d(r,at);return u||f&&i&l||e&&i&nt?this.preventSrc(t):void 0}},preventSrc:function(n){this.manager.session.prevented=!0;n.preventDefault()}};var oi=1,h=2,ut=4,b=8,p=b,yt=16,a=32;y.prototype={defaults:{},set:function(n){return k(this.options,n),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(n){if(tt(n,"recognizeWith",this))return this;var t=this.simultaneous;return n=ii(n,this),t[n.id]||(t[n.id]=n,n.recognizeWith(this)),this},dropRecognizeWith:function(n){return tt(n,"dropRecognizeWith",this)?this:(n=ii(n,this),delete this.simultaneous[n.id],this)},requireFailure:function(n){if(tt(n,"requireFailure",this))return this;var t=this.requireFail;return n=ii(n,this),-1===it(t,n)&&(t.push(n),n.requireFailure(this)),this},dropRequireFailure:function(n){if(tt(n,"dropRequireFailure",this))return this;n=ii(n,this);var t=it(this.requireFail,n);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(n){return!!this.simultaneous[n.id]},emit:function(n){function t(t){r.manager.emit(r.options.event+(t?du(i):""),n)}var r=this,i=this.state;b>i&&t(!0);t();i>=b&&t(!0)},tryEmit:function(n){return this.canEmit()?this.emit(n):void(this.state=a)},canEmit:function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(a|oi)))return!1;n++}return!0},recognize:function(n){var t=k({},n);return li(this.options.enable,[this,t])?(this.state&(p|yt|a)&&(this.state=oi),this.state=this.process(t),void(this.state&(h|ut|b|yt)&&this.tryEmit(t))):(this.reset(),void(this.state=a))},process:function(){},getTouchAction:function(){},reset:function(){}};o(c,y,{defaults:{pointers:1},attrTest:function(n){var t=this.options.pointers;return 0===t||n.pointers.length===t},process:function(n){var t=this.state,i=n.eventType,r=t&(h|ut),f=this.attrTest(n);return r&&(i&e||!f)?t|yt:r||f?i&u?t|b:t&h?t|ut:h:a}});o(ri,c,{defaults:{event:"pan",threshold:10,pointers:1,direction:br},getTouchAction:function(){var t=this.options.direction,n=[];return t&l&&n.push(vt),t&nt&&n.push(at),n},directionTest:function(n){var i=this.options,r=!0,u=n.distance,t=n.direction,f=n.deltaX,e=n.deltaY;return t&i.direction||(i.direction&l?(t=0===f?fi:0>f?ot:st,r=f!=this.pX,u=Math.abs(n.deltaX)):(t=0===e?fi:0>e?ht:ct,r=e!=this.pY,u=Math.abs(n.deltaY))),n.direction=t,r&&u>i.threshold&&t&i.direction},attrTest:function(n){return c.prototype.attrTest.call(this,n)&&(this.state&h||!(this.state&h)&&this.directionTest(n))},emit:function(n){this.pX=n.deltaX;this.pY=n.deltaY;var t=ar(n.direction);t&&this.manager.emit(this.options.event+t,n);this._super.emit.call(this,n)}});o(wi,c,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[lt]},attrTest:function(n){return this._super.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&h)},emit:function(n){if(this._super.emit.call(this,n),1!==n.scale){var t=n.scale<1?"in":"out";this.manager.emit(this.options.event+t,n)}}});o(bi,y,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[fu]},process:function(n){var t=this.options,i=n.pointers.length===t.pointers,r=n.distance<t.threshold,o=n.deltaTime>t.time;if(this._input=n,!r||!i||n.eventType&(u|e)&&!o)this.reset();else if(n.eventType&f)this.reset(),this._timer=si(function(){this.state=p;this.tryEmit()},t.time,this);else if(n.eventType&u)return p;return a},reset:function(){clearTimeout(this._timer)},emit:function(n){this.state===p&&(n&&n.eventType&u?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=nr(),this.manager.emit(this.options.event,this._input)))}});o(ki,c,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[lt]},attrTest:function(n){return this._super.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&h)}});o(di,c,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:l|nt,pointers:1},getTouchAction:function(){return ri.prototype.getTouchAction.call(this)},attrTest:function(n){var t,i=this.options.direction;return i&(l|nt)?t=n.velocity:i&l?t=n.velocityX:i&nt&&(t=n.velocityY),this._super.attrTest.call(this,n)&&i&n.direction&&n.distance>this.options.threshold&&ft(t)>this.options.velocity&&n.eventType&u},emit:function(n){var t=ar(n.direction);t&&this.manager.emit(this.options.event+t,n);this.manager.emit(this.options.event,n)}});o(ui,y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[ir]},process:function(n){var t=this.options,o=n.pointers.length===t.pointers,s=n.distance<t.threshold,c=n.deltaTime<t.time,i,r,e;if(this.reset(),n.eventType&f&&0===this.count)return this.failTimeout();if(s&&c&&o){if(n.eventType!=u)return this.failTimeout();if(i=this.pTime?n.timeStamp-this.pTime<t.interval:!0,r=!this.pCenter||gt(this.pCenter,n.center)<t.posThreshold,this.pTime=n.timeStamp,this.pCenter=n.center,r&&i?this.count+=1:this.count=1,this._input=n,e=this.count%t.taps,0===e)return this.hasRequireFailures()?(this._timer=si(function(){this.state=p;this.tryEmit()},t.interval,this),h):p}return a},failTimeout:function(){return this._timer=si(function(){this.state=a},this.options.interval,this),a},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==p&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});w.VERSION="2.0.4";w.defaults={domEvents:!1,touchAction:uu,enable:!0,inputTarget:null,inputClass:null,preset:[[ki,{enable:!1}],[wi,{enable:!1},["rotate"]],[di,{direction:l}],[ri,{direction:l},["swipe"]],[ui],[ui,{event:"doubletap",taps:2},["tap"]],[bi]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};eu=1;rr=2;gi.prototype={set:function(n){return k(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},stop:function(n){this.session.stopped=n?rr:eu},recognize:function(n){var r=this.session,i,f,t,u;if(!r.stopped)for(this.touchAction.preventDefaults(n),f=this.recognizers,t=r.curRecognizer,(!t||t&&t.state&p)&&(t=r.curRecognizer=null),u=0;u<f.length;)i=f[u],r.stopped===rr||t&&i!=t&&!i.canRecognizeWith(t)?i.reset():i.recognize(n),!t&&i.state&(h|ut|b)&&(t=r.curRecognizer=i),u++},get:function(n){if(n instanceof y)return n;for(var i=this.recognizers,t=0;t<i.length;t++)if(i[t].options.event==n)return i[t];return null},add:function(n){if(tt(n,"add",this))return this;var t=this.get(n.options.event);return t&&this.remove(t),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},remove:function(n){if(tt(n,"remove",this))return this;var t=this.recognizers;return n=this.get(n),t.splice(it(t,n),1),this.touchAction.update(),this},on:function(n,t){var i=this.handlers;return v(bt(n),function(n){i[n]=i[n]||[];i[n].push(t)}),this},off:function(n,t){var i=this.handlers;return v(bt(n),function(n){t?i[n].splice(it(i[n],t),1):delete i[n]}),this},emit:function(n,t){var i,r;if(this.options.domEvents&&gu(n,t),i=this.handlers[n]&&this.handlers[n].slice(),i&&i.length)for(t.type=n,t.preventDefault=function(){t.srcEvent.preventDefault()},r=0;r<i.length;)i[r](t),r++},destroy:function(){this.element&&vr(this,!1);this.handlers={};this.session={};this.input.destroy();this.element=null}};k(w,{INPUT_START:f,INPUT_MOVE:g,INPUT_END:u,INPUT_CANCEL:e,STATE_POSSIBLE:oi,STATE_BEGAN:h,STATE_CHANGED:ut,STATE_ENDED:b,STATE_RECOGNIZED:p,STATE_CANCELLED:yt,STATE_FAILED:a,DIRECTION_NONE:fi,DIRECTION_LEFT:ot,DIRECTION_RIGHT:st,DIRECTION_UP:ht,DIRECTION_DOWN:ct,DIRECTION_HORIZONTAL:l,DIRECTION_VERTICAL:nt,DIRECTION_ALL:br,Manager:gi,Input:s,TouchAction:pi,TouchInput:ti,MouseInput:ni,PointerEventInput:vi,TouchMouseInput:yi,SingleTouchInput:lr,Recognizer:y,AttrRecognizer:c,Tap:ui,Pan:ri,Swipe:di,Pinch:wi,Rotate:ki,Press:bi,on:pt,off:wt,each:v,merge:hi,extend:k,inherit:o,bindFn:ci,prefixed:dt});typeof define==pr&&define.amd?define(function(){return w}):"undefined"!=typeof module&&module.exports?module.exports=w:n[i]=w}(window,document,"Hammer"),function(){function t(){}function r(n,t){for(var i=n.length;i--;)if(n[i].listener===t)return i;return-1}function i(n){return function(){return this[n].apply(this,arguments)}}var n=t.prototype,u=this,f=u.EventEmitter;n.getListeners=function(n){var r,t,i=this._getEvents();if("object"==typeof n){r={};for(t in i)i.hasOwnProperty(t)&&n.test(t)&&(r[t]=i[t])}else r=i[n]||(i[n]=[]);return r};n.flattenListeners=function(n){for(var i=[],t=0;n.length>t;t+=1)i.push(n[t].listener);return i};n.getListenersAsObject=function(n){var t,i=this.getListeners(n);return i instanceof Array&&(t={},t[n]=i),t||i};n.addListener=function(n,t){var i,u=this.getListenersAsObject(n),f="object"==typeof t;for(i in u)u.hasOwnProperty(i)&&-1===r(u[i],t)&&u[i].push(f?t:{listener:t,once:!1});return this};n.on=i("addListener");n.addOnceListener=function(n,t){return this.addListener(n,{listener:t,once:!0})};n.once=i("addOnceListener");n.defineEvent=function(n){return this.getListeners(n),this};n.defineEvents=function(n){for(var t=0;n.length>t;t+=1)this.defineEvent(n[t]);return this};n.removeListener=function(n,t){var f,i,u=this.getListenersAsObject(n);for(i in u)u.hasOwnProperty(i)&&(f=r(u[i],t),-1!==f&&u[i].splice(f,1));return this};n.off=i("removeListener");n.addListeners=function(n,t){return this.manipulateListeners(!1,n,t)};n.removeListeners=function(n,t){return this.manipulateListeners(!0,n,t)};n.manipulateListeners=function(n,t,i){var r,u,f=n?this.removeListener:this.addListener,e=n?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=i.length;r--;)f.call(this,t,i[r]);else for(r in t)t.hasOwnProperty(r)&&(u=t[r])&&("function"==typeof u?f.call(this,r,u):e.call(this,r,u));return this};n.removeEvent=function(n){var t,r=typeof n,i=this._getEvents();if("string"===r)delete i[n];else if("object"===r)for(t in i)i.hasOwnProperty(t)&&n.test(t)&&delete i[t];else delete this._events;return this};n.removeAllListeners=i("removeEvent");n.emitEvent=function(n,t){var i,f,r,e,u=this.getListenersAsObject(n);for(r in u)if(u.hasOwnProperty(r))for(f=u[r].length;f--;)i=u[r][f],i.once===!0&&this.removeListener(n,i.listener),e=i.listener.apply(this,t||[]),e===this._getOnceReturnValue()&&this.removeListener(n,i.listener);return this};n.trigger=i("emitEvent");n.emit=function(n){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(n,t)};n.setOnceReturnValue=function(n){return this._onceReturnValue=n,this};n._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0};n._getEvents=function(){return this._events||(this._events={})};t.noConflict=function(){return u.EventEmitter=f,t};"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),function(n){function f(t){var i=n.event;return i.target=i.target||i.srcElement||t,i}var t=document.documentElement,r=function(){},i,u;t.addEventListener?r=function(n,t,i){n.addEventListener(t,i,!1)}:t.attachEvent&&(r=function(n,t,i){n[t+i]=i.handleEvent?function(){var t=f(n);i.handleEvent.call(i,t)}:function(){var t=f(n);i.call(n,t)};n.attachEvent("on"+t,n[t+i])});i=function(){};t.removeEventListener?i=function(n,t,i){n.removeEventListener(t,i,!1)}:t.detachEvent&&(i=function(n,t,i){n.detachEvent("on"+t,n[t+i]);try{delete n[t+i]}catch(r){n[t+i]=void 0}});u={bind:r,unbind:i};"function"==typeof define&&define.amd?define("eventie/eventie",u):n.eventie=u}(this),function(n,t){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(i,r){return t(n,i,r)}):"object"==typeof exports?module.exports=t(n,require("eventEmitter"),require("eventie")):n.imagesLoaded=t(n,n.EventEmitter,n.eventie)}(this,function(n,t,i){function s(n,t){for(var i in t)n[i]=t[i];return n}function c(n){return"[object Array]"===v.call(n)}function l(n){var t=[],i,r;if(c(n))t=n;else if("number"==typeof n.length)for(i=0,r=n.length;r>i;i++)t.push(n[i]);else t.push(n);return t}function r(n,t,i){if(!(this instanceof r))return new r(n,t);"string"==typeof n&&(n=document.querySelectorAll(n));this.elements=l(n);this.options=s({},this.options);"function"==typeof t?i=t:s(this.options,t);i&&this.on("always",i);this.getImages();f&&(this.jqDeferred=new f.Deferred);var u=this;setTimeout(function(){u.check()})}function e(n){this.img=n}function u(n){this.src=n;o[n]=this}var f=n.jQuery,h=n.console,a=h!==void 0,v=Object.prototype.toString,o;return r.prototype=new t,r.prototype.options={},r.prototype.getImages=function(){var t,r,n,f;for(this.images=[],t=0,r=this.elements.length;r>t;t++)if(n=this.elements[t],"IMG"===n.nodeName&&this.addImage(n),n.nodeType&&(1===n.nodeType||9===n.nodeType))for(var u=n.querySelectorAll("img"),i=0,e=u.length;e>i;i++)f=u[i],this.addImage(f)},r.prototype.addImage=function(n){var t=new e(n);this.images.push(t)},r.prototype.check=function(){function f(n,r){return t.options.debug&&a&&h.log("confirm",n,r),t.progress(n),u++,u===i&&t.complete(),!0}var t=this,u=0,i=this.images.length,n,r;if(this.hasAnyBroken=!1,!i)return this.complete(),void 0;for(n=0;i>n;n++)r=this.images[n],r.on("confirm",f),r.check()},r.prototype.progress=function(n){this.hasAnyBroken=this.hasAnyBroken||!n.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,n);t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,n)})},r.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done",n;this.isComplete=!0;n=this;setTimeout(function(){if(n.emit(t,n),n.emit("always",n),n.jqDeferred){var i=n.hasAnyBroken?"reject":"resolve";n.jqDeferred[i](n)}})},f&&(f.fn.imagesLoaded=function(n,t){var i=new r(this,n,t);return i.jqDeferred.promise(f(this))}),e.prototype=new t,e.prototype.check=function(){var n=o[this.img.src]||new u(this.img.src),t;if(n.isConfirmed)return this.confirm(n.isLoaded,"cached was confirmed"),void 0;if(this.img.complete&&void 0!==this.img.naturalWidth)return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0;t=this;n.on("confirm",function(n,i){return t.confirm(n.isLoaded,i),!0});n.check()},e.prototype.confirm=function(n,t){this.isLoaded=n;this.emit("confirm",this,t)},o={},u.prototype=new t,u.prototype.check=function(){if(!this.isChecked){var n=new Image;i.bind(n,"load",this);i.bind(n,"error",this);n.src=this.src;this.isChecked=!0}},u.prototype.handleEvent=function(n){var t="on"+n.type;this[t]&&this[t](n)},u.prototype.onload=function(n){this.confirm(!0,"onload");this.unbindProxyEvents(n)},u.prototype.onerror=function(n){this.confirm(!1,"onerror");this.unbindProxyEvents(n)},u.prototype.confirm=function(n,t){this.isConfirmed=!0;this.isLoaded=n;this.emit("confirm",this,t)},u.prototype.unbindProxyEvents=function(n){i.unbind(n.target,"load",this);i.unbind(n.target,"error",this)},r}),typeof define=="function"&&define.amd)define(["imagesLoaded","Hammer"],defineSequence);else{Hammer=typeof Hammer!="function"?null:Hammer;imagesLoaded=typeof imagesLoaded!="function"?null:imagesLoaded;var sequence=defineSequence(imagesLoaded,Hammer)}