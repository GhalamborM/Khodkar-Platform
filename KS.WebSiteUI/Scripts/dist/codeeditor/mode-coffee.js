ace.define("ace/mode/coffee_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,t){"use strict";function i(){var n="[$A-Za-z_\\x7f-\\uffff][$\\w\\x7f-\\uffff]*",r="case|const|default|function|var|void|with|enum|export|implements|interface|let|package|private|protected|public|static|yield|__hasProp|slice|bind|indexOf",u=this.createKeywordMapper({keyword:"this|throw|then|try|typeof|super|switch|return|break|by|continue|catch|class|in|instanceof|is|isnt|if|else|extends|for|own|finally|function|while|when|new|no|not|delete|debugger|do|loop|of|off|or|on|unless|until|and|yes","constant.language":"true|false|null|undefined|NaN|Infinity","invalid.illegal":r,"language.support.class":"Array|Boolean|Date|Function|Number|Object|RegExp|ReferenceError|String|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray","language.support.function":"Math|JSON|isNaN|isFinite|parseInt|parseFloat|encodeURI|encodeURIComponent|decodeURI|decodeURIComponent|String|","variable.language":"window|arguments|prototype|document"},"identifier"),i={token:["paren.lparen","variable.parameter","paren.rparen","text","storage.type"],regex:/(?:(\()((?:"[^")]*?"|'[^')]*?'|\/[^\/)]*?\/|[^()\"'\/])*?)(\))(\s*))?([\-=]>)/.source},t=/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)/;this.$rules={start:[{token:"constant.numeric",regex:"(?:0x[\\da-fA-F]+|(?:\\d+(?:\\.\\d+)?|\\.\\d+)(?:[eE][+-]?\\d+)?)"},{stateName:"qdoc",token:"string",regex:"'''",next:[{token:"string",regex:"'''",next:"start"},{token:"constant.language.escape",regex:t},{defaultToken:"string"}]},{stateName:"qqdoc",token:"string",regex:'"""',next:[{token:"string",regex:'"""',next:"start"},{token:"paren.string",regex:"#{",push:"start"},{token:"constant.language.escape",regex:t},{defaultToken:"string"}]},{stateName:"qstring",token:"string",regex:"'",next:[{token:"string",regex:"'",next:"start"},{token:"constant.language.escape",regex:t},{defaultToken:"string"}]},{stateName:"qqstring",token:"string.start",regex:'"',next:[{token:"string.end",regex:'"',next:"start"},{token:"paren.string",regex:"#{",push:"start"},{token:"constant.language.escape",regex:t},{defaultToken:"string"}]},{stateName:"js",token:"string",regex:"`",next:[{token:"string",regex:"`",next:"start"},{token:"constant.language.escape",regex:t},{defaultToken:"string"}]},{regex:"[{}]",onMatch:function(n,t,i){return(this.next="",n=="{"&&i.length)?(i.unshift("start",t),"paren"):n=="}"&&i.length&&(i.shift(),this.next=i.shift()||"",this.next.indexOf("string")!=-1)?"paren.string":"paren"}},{token:"string.regex",regex:"///",next:"heregex"},{token:"string.regex",regex:/(?:\/(?![\s=])[^[\/\n\\]*(?:(?:\\[\s\S]|\[[^\]\n\\]*(?:\\[\s\S][^\]\n\\]*)*])[^[\/\n\\]*)*\/)(?:[imgy]{0,4})(?!\w)/},{token:"comment",regex:"###(?!#)",next:"comment"},{token:"comment",regex:"#.*"},{token:["punctuation.operator","text","identifier"],regex:"(\\.)(\\s*)("+r+")"},{token:"punctuation.operator",regex:"\\.{1,3}"},{token:["keyword","text","language.support.class","text","keyword","text","language.support.class"],regex:"(class)(\\s+)("+n+")(?:(\\s+)(extends)(\\s+)("+n+"))?"},{token:["entity.name.function","text","keyword.operator","text"].concat(i.token),regex:"("+n+")(\\s*)([=:])(\\s*)"+i.regex},i,{token:"variable",regex:"@(?:"+n+")?"},{token:u,regex:n},{token:"punctuation.operator",regex:"\\,|\\."},{token:"storage.type",regex:"[\\-=]>"},{token:"keyword.operator",regex:"(?:[-+*/%<>&|^!?=]=|>>>=?|\\-\\-|\\+\\+|::|&&=|\\|\\|=|<<=|>>=|\\?\\.|\\.{2,3}|[!*+-=><])"},{token:"paren.lparen",regex:"[({[]"},{token:"paren.rparen",regex:"[\\]})]"},{token:"text",regex:"\\s+"}],heregex:[{token:"string.regex",regex:".*?///[imgy]{0,4}",next:"start"},{token:"comment.regex",regex:"\\s+(?:#.*)?"},{token:"string.regex",regex:"\\S+"}],comment:[{token:"comment",regex:"###",next:"start"},{defaultToken:"comment"}]};this.normalizeRules()}var r=n("../lib/oop"),u=n("./text_highlight_rules").TextHighlightRules;r.inherits(i,u);t.CoffeeHighlightRules=i});ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(n,t){"use strict";var r=n("../range").Range,i=function(){};(function(){this.checkOutdent=function(n,t){return/^\s+$/.test(n)?/^\s*\}/.test(t):!1};this.autoOutdent=function(n,t){var o=n.getLine(t),f=o.match(/^(\s*\})/),u,i,e;if(!f||(u=f[1].length,i=n.findMatchingBracket({row:t,column:u}),!i||i.row==t))return 0;e=this.$getIndent(n.getLine(i.row));n.replace(new r(t,0,t,u-1),e)};this.$getIndent=function(n){return n.match(/^\s*/)[0]}}).call(i.prototype);t.MatchingBraceOutdent=i});ace.define("ace/mode/folding/coffee",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range"],function(n,t){"use strict";var r=n("../../lib/oop"),u=n("./fold_mode").FoldMode,f=n("../../range").Range,i=t.FoldMode=function(){};r.inherits(i,u),function(){this.getFoldWidgetRange=function(n,t,i){var o=this.indentationBlock(n,i),e,l;if(o)return o;var s=/\S/,r=n.getLine(i),h=r.search(s);if(h!=-1&&r[h]=="#"){for(var a=r.length,v=n.getLength(),c=i,u=i;++i<v;)if(r=n.getLine(i),e=r.search(s),e!=-1){if(r[e]!="#")break;u=i}if(u>c)return l=n.getLine(u).length,new f(c,a,u,l)}};this.getFoldWidget=function(n,t,i){var f=n.getLine(i),r=f.search(/\S/),o=n.getLine(i+1),s=n.getLine(i-1),u=s.search(/\S/),e=o.search(/\S/);if(r==-1)return n.foldWidgets[i-1]=u!=-1&&u<e?"start":"","";if(u==-1){if(r==e&&f[r]=="#"&&o[r]=="#")return n.foldWidgets[i-1]="",n.foldWidgets[i+1]="","start"}else if(u==r&&f[r]=="#"&&s[r]=="#"&&n.getLine(i-2).search(/\S/)==-1)return n.foldWidgets[i-1]="start",n.foldWidgets[i+1]="","";return n.foldWidgets[i-1]=u!=-1&&u<r?"start":"",r<e?"start":""}}.call(i.prototype)});ace.define("ace/mode/coffee",["require","exports","module","ace/mode/coffee_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/coffee","ace/range","ace/mode/text","ace/worker/worker_client","ace/lib/oop"],function(n,t){"use strict";function i(){this.HighlightRules=r;this.$outdent=new u;this.foldingRules=new f}var r=n("./coffee_highlight_rules").CoffeeHighlightRules,u=n("./matching_brace_outdent").MatchingBraceOutdent,f=n("./folding/coffee").FoldMode,h=n("../range").Range,e=n("./text").Mode,o=n("../worker/worker_client").WorkerClient,s=n("../lib/oop");s.inherits(i,e),function(){var n=/(?:[({[=:]|[-=]>|\b(?:else|try|(?:swi|ca)tch(?:\s+[$A-Za-z_\x7f-\uffff][$\w\x7f-\uffff]*)?|finally))\s*$|^\s*(else\b\s*)?(?:if|for|while|loop)\b(?!.*\bthen\b)/;this.lineCommentStart="#";this.blockComment={start:"###",end:"###"};this.getNextLineIndent=function(t,i,r){var f=this.$getIndent(i),u=this.getTokenizer().getLineTokens(i,t).tokens;return u.length&&u[u.length-1].type==="comment"||t!=="start"||!n.test(i)||(f+=r),f};this.checkOutdent=function(n,t,i){return this.$outdent.checkOutdent(t,i)};this.autoOutdent=function(n,t,i){this.$outdent.autoOutdent(t,i)};this.createWorker=function(n){var t=new o(["ace"],"ace/mode/coffee_worker","Worker");t.attachToDocument(n.getDocument());t.on("annotate",function(t){n.setAnnotations(t.data)});t.on("terminate",function(){n.clearAnnotations()});return t};this.$id="ace/mode/coffee"}.call(i.prototype);t.Mode=i})