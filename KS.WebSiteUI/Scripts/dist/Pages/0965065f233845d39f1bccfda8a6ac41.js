$("#i0965065f233845d39f1bccfda8a6ac41").on($.asEvent.page.loaded,function(n,t){var w="#i0965065f233845d39f1bccfda8a6ac41",b=".i0965065f233845d39f1bccfda8a6ac41."+$.asPageClass,i=function(n){var t=new $.as({pageId:b});return t.as(n)},k=function(){},p,pt,at;$(w).on($.asEvent.page.dispose,function(){k()});$.asUrls=$.extend({develop_reports_ErrorLog_GetByPagination:"/develop/reports/ErrorLog/GetByPagination/@orderBy/@skip/@take/@typeOrSourceOrMessage/@user/@fromDateTime/@toDateTime",develop_reports_ErrorLog_GetById:"/develop/reports/ErrorLog/GetById/@id",develop_reports_ErrorLog_Delete:"/develop/reports/ErrorLog/delete"},$.asUrls);var h=i("#btnDell"),vt=i("#btnDetail"),c=i("#winDetail"),r=i("#grvLog"),u={items:{}},d=i("#divException"),g=i("#divAppDomain"),nt=i("#divHostName"),tt=i("#divDataTime"),it=i("#divWebHostHtmlMessage"),rt=i("#divQueryString"),ut=i("#divType"),ft=i("#divMessage"),et=i("#divDetail"),ot=i("#divServerVariables"),st=i("#divForm"),ht=i("#divCookies"),ct=i("#divIsMobileMode"),lt=i("#divIsDebugMode"),l=i("#fromDateInput"),a=i("#toDateInput"),o=i("#fromTimeInput"),s=i("#toTimeInput"),v=i("#txtUser"),y=i("#txtTypeOrSourceOrMessage"),yt=i("#btnSearch"),f="!",e="!";l.asDateTimeInput({type:"calendar",calendar:{params:{height:"30px",width:"190px"}},theme:"public"});a.asDateTimeInput({type:"calendar",calendar:{params:{height:"30px",width:"190px"}},theme:"public"});o.asDateTimeInput({type:"time",theme:"public"});s.asDateTimeInput({type:"time",theme:"public"});c.asModal({width:800});p=function(n,t){n.type==="selected"?u.items[t[0].Id]={Id:t[0].Id,Type:t[0].Type,Source:t[0].Source,Message:t[0].Message,User:t[0].User,LocalDateTime:t[0].LocalDateTime,StatusCode:t[0].StatusCode}:delete u.items[t[0].Id]};r.asBootGrid({rowCount:[10,25,50,100,-1],source:{url:""},requestHandler:function(n){var t="Id desc",i=0;return n.current>1&&(i=(n.current-1)*n.rowCount),$.each(n.sort,function(n,i){t=n+" "+i}),n.url=$.asInitService($.asUrls.develop_reports_ErrorLog_GetByPagination,[{name:"@orderby",value:t},{name:"@skip",value:i},{name:"@take",value:n.rowCount},{name:"@typeOrSourceOrMessage",value:y.val()===""?"!":y.val()},{name:"@user",value:v.val()===""?"!":v.val()},{name:"@fromDateTime",value:e==="!"?"!":e.replace(":","_")},{name:"@toDateTime",value:f==="!"?"!":f.replace(":","_")}]),u.items={},r.asBootGrid("deselect"),n},selection:!0,rowSelect:!0,multiSelect:!0}).on("selected.rs.jquery.asBootGrid",function(n,t){p(n,t)}).on("deselected.rs.jquery.asBootGrid",function(n,t){p(n,t)});pt=function(){$.asNotFound(" خطا")};at=function(){$(w).on($.asEvent.page.ready,function(){});var t=function(){g.empty();nt.empty();tt.empty();ht.empty();st.empty();ot.empty();et.empty();ft.empty();rt.empty();ut.empty();it.empty();d.empty();lt.empty();ct.empty()},n=function(){$.asShowMessage({message:$.asRes[$.asLang].successOpration});u.items={};r.asBootGrid("deselect")};i("#btnRemoveFilte").click(function(){y.val("");v.val("");f="!";s.asDateTimeInput("setTime","");e="!";o.asDateTimeInput("setTime","");toDateInput="!";a.asDateTimeInput("setDate","");fromTimeInput="!";l.asDateTimeInput("setDate","")});yt.click(function(){a.asDateTimeInput("getDate").length>0&&(f=a.asDateTimeInput("getDate")+(s.asDateTimeInput("getTime")!==""?" "+s.asDateTimeInput("getTime")+"_00":" "+s.asDateTimeInput("getTime")+"23_59_59"));l.asDateTimeInput("getDate").length>0&&(e=l.asDateTimeInput("getDate")+(o.asDateTimeInput("getTime")!==""?" "+o.asDateTimeInput("getTime")+"_00":" "+o.asDateTimeInput("getTime")+"00_00_00"));r.asBootGrid("reload")});vt.click(function(){var i=[];$.each(u.items,function(n,t){i.push(t)});i.length===1?(t(),c.asModal("show"),c.asAjax({url:$.asInitService($.asUrls.develop_reports_ErrorLog_GetById,[{name:"@id",value:i[0].Id}]),type:"get",success:function(t){var i=JSON.parse(t.Error),r,u,f;g.html(i.application);nt.html(i.host);tt.html(i.time);r="";$.each(i.cookies,function(n,t){r+=n+" : "+t+" <br>"});ht.html(r);u="";$.each(i.form,function(n,t){u+=n+" : "+t+" <br>"});st.html(u);f="";$.each(i.serverVariables,function(n,t){f+=n+" : "+t+" <br>"});ot.html(f);et.html(i.detail);ft.html(i.message);rt.html(i.queryString);ut.html(i.type);it.html(i.webHostHtmlMessage);lt.html(t.IsDebugMode?"بله":"خیر");ct.html(t.IsMobileMode?"بله":"خیر");d.html(JSON.stringify(i.exception));n()}},{overlayClass:"as-overlay-absolute"})):$.asShowMessage({template:"error",message:"  برای مشاهده یک لاگ انتخاب شود"})});h.click(function(){var t=[];$.each(u.items,function(n,i){t.push(i.Id)});t.length>=1?(r.asAjax({url:$.asUrls.develop_reports_ErrorLog_Delete,data:JSON.stringify({Ids:t}),error:function(){h.button("reset")},success:function(){h.button("reset");r.asBootGrid("remove");n()}},{validate:!1}),h.button("loading")):$.asShowMessage({template:"error",message:"    برای حذف حداقل یک لاگ باید انتخاب شود  "})});i("#btnCancel").click(function(){c.asModal("hide")});k=function(){r.asBootGrid("destroy")}};at();$(b).append('<span id="asRegisterPage"><\/span>');i("#asRegisterPage").asRegisterPageEvent();typeof t!="undefined"&&$.asLoadPage(t,t.replace(/\//g,$.asUrlDelimeter))})